{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$description": "Design Token Context Ontology - Manifest for multi-dimensional token collections",
  "version": "2.0.0",
  "name": "Design Token Context Ontology",

  "collections": [
    {
      "name": "Theme",
      "file": "collections/theme.json",
      "description": "Color scheme modes for light, dark, and dim themes",
      "modes": ["light", "dark", "dim"],
      "defaultMode": "light",
      "category": "appearance",
      "volatility": "semi-stable",
      "detection": "prefers-color-scheme, user-preference"
    },
    {
      "name": "Density",
      "file": "collections/density.json",
      "description": "Layout density modes for spacing, sizing, and touch targets",
      "modes": ["compact", "comfortable", "spacious"],
      "defaultMode": "comfortable",
      "category": "density",
      "volatility": "stable",
      "detection": "pointer-type, user-preference"
    },
    {
      "name": "Viewport",
      "file": "collections/viewport.json",
      "description": "Responsive breakpoint modes for mobile, tablet, and desktop layouts",
      "modes": ["mobile", "tablet", "desktop"],
      "defaultMode": "desktop",
      "category": "viewport",
      "volatility": "volatile",
      "detection": "viewport-width, container-width"
    },
    {
      "name": "Contrast",
      "file": "collections/contrast.json",
      "description": "Accessibility contrast modes for standard, high, and forced contrast",
      "modes": ["standard", "high", "forced"],
      "defaultMode": "standard",
      "category": "accessibility",
      "volatility": "semi-stable",
      "detection": "prefers-contrast, forced-colors"
    },
    {
      "name": "Motion",
      "file": "collections/motion.json",
      "description": "Animation preference modes for full, reduced, and no motion",
      "modes": ["full", "reduced", "none"],
      "defaultMode": "full",
      "category": "accessibility",
      "volatility": "stable",
      "detection": "prefers-reduced-motion, user-preference"
    },
    {
      "name": "Elevation",
      "file": "collections/elevation.json",
      "description": "Surface elevation modes for flat, raised, and elevated UI",
      "modes": ["base", "raised", "elevated"],
      "defaultMode": "raised",
      "category": "elevation",
      "volatility": "stable",
      "detection": "container-context, user-preference"
    },
    {
      "name": "Typography",
      "file": "collections/typography.json",
      "description": "Typography style modes for default, editorial, and technical content",
      "modes": ["default", "editorial", "technical"],
      "defaultMode": "default",
      "category": "semantic",
      "volatility": "stable",
      "detection": "content-type, user-preference"
    },
    {
      "name": "State",
      "file": "collections/state.json",
      "description": "Interaction state modes for rest, hover, active, and disabled states",
      "modes": ["rest", "hover", "active", "disabled"],
      "defaultMode": "rest",
      "category": "interaction",
      "volatility": "volatile",
      "detection": "pointer-state, element-state"
    },
    {
      "name": "Brand",
      "file": "collections/brand.json",
      "description": "Brand identity modes for multi-brand or white-label support",
      "modes": ["primary", "secondary", "partner"],
      "defaultMode": "primary",
      "category": "semantic",
      "volatility": "immutable",
      "detection": "configuration, runtime-context"
    }
  ],

  "figma": {
    "pluginCompatibility": "gitfig",
    "variableCollectionMapping": {
      "Theme": "collections/theme.json",
      "Density": "collections/density.json",
      "Viewport": "collections/viewport.json",
      "Contrast": "collections/contrast.json",
      "Motion": "collections/motion.json",
      "Elevation": "collections/elevation.json",
      "Typography": "collections/typography.json",
      "State": "collections/state.json",
      "Brand": "collections/brand.json"
    },
    "modeExtensionKey": "mode",
    "collectionExtensionKey": "figma.collection",
    "modesExtensionKey": "figma.modes"
  },

  "styleDictionary": {
    "source": ["collections/*.json"],
    "platforms": {
      "css": {
        "transformGroup": "css",
        "buildPath": "dist/css/",
        "files": [
          {
            "destination": "tokens.css",
            "format": "css/variables"
          }
        ]
      },
      "scss": {
        "transformGroup": "scss",
        "buildPath": "dist/scss/",
        "files": [
          {
            "destination": "_tokens.scss",
            "format": "scss/variables"
          }
        ]
      },
      "js": {
        "transformGroup": "js",
        "buildPath": "dist/js/",
        "files": [
          {
            "destination": "tokens.js",
            "format": "javascript/es6"
          }
        ]
      },
      "json": {
        "transformGroup": "web",
        "buildPath": "dist/json/",
        "files": [
          {
            "destination": "tokens.json",
            "format": "json/flat"
          }
        ]
      }
    }
  },

  "contextResolution": {
    "precedenceOrder": [
      "accessibility-overrides",
      "explicit-declarations",
      "context-type",
      "inherited-context",
      "platform-defaults",
      "system-defaults"
    ],
    "crossCategoryDependencies": [
      {
        "source": "contrast.forced",
        "affects": ["theme", "elevation"],
        "rule": "Forces simplified color scheme and flat elevation"
      },
      {
        "source": "motion.none",
        "affects": ["state"],
        "rule": "Disables transition animations on state changes"
      },
      {
        "source": "viewport.mobile",
        "affects": ["density", "typography"],
        "rule": "May influence default density and typography scale"
      },
      {
        "source": "theme.dark",
        "affects": ["elevation"],
        "rule": "Dark themes may require adjusted shadow intensities"
      }
    ]
  },

  "namedContextTypes": [
    {
      "name": "mobile-light",
      "dimensions": {
        "viewport": "mobile",
        "theme": "light",
        "density": "comfortable"
      }
    },
    {
      "name": "mobile-dark",
      "dimensions": {
        "viewport": "mobile",
        "theme": "dark",
        "density": "comfortable"
      }
    },
    {
      "name": "desktop-light",
      "dimensions": {
        "viewport": "desktop",
        "theme": "light",
        "density": "comfortable"
      }
    },
    {
      "name": "desktop-dark",
      "dimensions": {
        "viewport": "desktop",
        "theme": "dark",
        "density": "comfortable"
      }
    },
    {
      "name": "kiosk",
      "dimensions": {
        "viewport": "desktop",
        "theme": "dark",
        "density": "spacious",
        "contrast": "high"
      }
    },
    {
      "name": "print",
      "dimensions": {
        "theme": "light",
        "contrast": "high",
        "motion": "none",
        "elevation": "base"
      }
    },
    {
      "name": "high-contrast",
      "dimensions": {
        "contrast": "high",
        "elevation": "base"
      }
    },
    {
      "name": "reduced-motion",
      "dimensions": {
        "motion": "reduced"
      }
    },
    {
      "name": "compact-ui",
      "dimensions": {
        "density": "compact",
        "typography": "technical"
      }
    },
    {
      "name": "editorial-reading",
      "dimensions": {
        "density": "spacious",
        "typography": "editorial"
      }
    }
  ],

  "metadata": {
    "generatedAt": "2026-01-21T00:00:00Z",
    "specVersion": "W3C Design Tokens Community Group Draft",
    "ontologyVersion": "2.0.0",
    "totalCollections": 9,
    "totalModes": 31,
    "totalTokens": "~2500"
  }
}
